<!DOCTYPE html>
<html lang="de" class="scroll-smooth">
<head>
    <script id="Cookiebot" src="https://consent.cookiebot.com/uc.js" data-cbid="e09e7a8c-187b-4477-8805-42800c5861f9" type="text/javascript" async></script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Alle Episoden | Wissens-Akku</title>
    <link rel="icon" href="Bilder/wissenakku-logo.png">
    <link rel="apple-touch-icon" href="Bilder/wissenakku-logo.png">
    <meta name="theme-color" content="#0F172A">
    <meta name="description" content="Durchsuche alle Episoden des Wissens-Akku Podcasts. Finde spezifische Themen und lade deinen Wissens-Akku auf.">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://wissens-akku.com/episoden.html">
    <meta property="og:title" content="Alle Episoden | Wissens-Akku">
    <meta property="og:description" content="Durchsuche alle Episoden des Wissens-Akku Podcasts. Finde spezifische Themen und lade deinen Wissens-Akku auf.">
    <meta property="og:image" content="https://wissens-akku.com/Bilder/wissenakku-logo.png">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary">
    <meta property="twitter:url" content="https://wissens-akku.com/episoden.html">
    <meta property="twitter:title" content="Alle Episoden | Wissens-Akku">
    <meta property="twitter:description" content="Durchsuche alle Episoden des Wissens-Akku Podcasts. Finde spezifische Themen und lade deinen Wissens-Akku auf.">
    <meta property="twitter:image" content="https://wissens-akku.com/Bilder/wissenakku-logo.png">

    <link href="assets/css/tailwind.css" rel="stylesheet">
    
    <!-- Local Fonts -->
    <link href="assets/css/local-fonts.css" rel="stylesheet">

    <style>
        .nav-link.active {
            color: #22D3EE; /* text-brand-accent-400 */
            border-bottom: 2px solid #22D3EE;
        }
        .nav-button {
            background: none;
            border: none;
            padding: 0;
            cursor: pointer;
        }
        .spinner {
            border: 4px solid rgba(255, 255, 255, 0.2);
            border-left-color: #22D3EE;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin { to { transform: rotate(360deg); } }

        .category-tab.active {
            background-color: #06B6D4; /* brand-accent-500 */
            color: white;
        }

        #all-episodes-grid {
            max-height: 80vh;
            overflow-y: auto;
            padding-right: 1rem;
        }
        #all-episodes-grid::-webkit-scrollbar {
            width: 8px;
        }
        #all-episodes-grid::-webkit-scrollbar-track {
            background: #0F172A;
        }
        #all-episodes-grid::-webkit-scrollbar-thumb {
            background-color: #0891B2;
            border-radius: 4px;
        }
        body.modal-open {
            overflow: hidden;
        }
        .modal {
            display: none; /* Ensure it's hidden */
            align-items: center;
            justify-content: center;
        }
        .modal.flex {
            display: flex;
        }
        .modal.hidden {
            display: none;
        }
    </style>
</head>
<body class="text-brand-accent-400 font-sans">

    <!-- Global Fixed Background -->
    <div class="fixed inset-0 z-[-10] bg-cover bg-center" style="background-image: url('Bilder/hintergrund.png');">
        <div class="absolute inset-0 bg-brand-dark/80"></div>
    </div>

    <!-- Header & Navigation -->
    <header class="fixed top-0 left-0 right-0 bg-brand-dark/80 backdrop-blur-md z-50 border-b border-gray-700/50">
        <div class="container mx-auto px-6 py-4 flex justify-between items-center">
            <a href="index.html#home" class="flex items-center space-x-2 nav-link" data-section="home">
                <img src="Bilder/wissenakku-logo.png" alt="Wissens-Akku Logo" class="h-8 w-8 rounded-full">
                <span class="text-xl font-heading font-bold">Wissens-Akku</span>
            </a>
            <nav class="hidden md:flex items-center space-x-8">
                <a href="index.html#home" class="nav-link text-lg hover:text-brand-accent-400 transition-colors pb-1" data-section="home">Start</a>
                <a href="episoden.html" class="nav-link text-lg hover:text-brand-accent-400 transition-colors pb-1 active" data-section="episodes">Episoden</a>
                <a href="index.html#about" class="nav-link text-lg hover:text-brand-accent-400 transition-colors pb-1" data-section="about">Über Mich</a>
                <a href="index.html#follow" class="nav-link text-lg hover:text-brand-accent-400 transition-colors pb-1" data-section="follow">Folgen</a>
                <button class="nav-button nav-link text-lg hover:text-brand-accent-400 transition-colors pb-1 open-workflow-modal" data-section="workflow">Workflow</button>
                <button class="nav-button nav-link text-lg hover:text-brand-accent-400 transition-colors pb-1 open-contact-modal" data-section="contact">Kontakt</button>
            </nav>
            <button id="mobile-menu-button" class="md:hidden p-2">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7" /></svg>
            </button>
        </div>
        <div id="mobile-menu" class="hidden md:hidden">
            <a href="index.html#home" class="block py-2 px-6 text-sm hover:bg-gray-800 nav-link" data-section="home">Start</a>
            <a href="episoden.html" class="block py-2 px-6 text-sm hover:bg-gray-800 nav-link active" data-section="episodes">Episoden</a>
            <a href="index.html#about" class="block py-2 px-6 text-sm hover:bg-gray-800 nav-link" data-section="about">Über Mich</a>
            <a href="#" class="block py-2 px-6 text-sm hover:bg-gray-800 nav-link open-workflow-modal" data-section="workflow">Workflow</a>
            <a href="index.html#follow" class="block py-2 px-6 text-sm hover:bg-gray-800 nav-link" data-section="follow">Folgen</a>
            <a href="#" class="block py-2 px-6 text-sm hover:bg-gray-800 nav-link open-contact-modal" data-section="contact">Kontakt</a>
        </div>
    </header>

    <main class="relative z-10 pt-20">
        <div class="container mx-auto px-6 py-12 md:py-24 bg-transparent backdrop-blur-sm rounded-xl border-none">
            <section id="episodes">
                <h1 class="text-4xl md:text-5xl font-bold font-heading text-center mb-12">Alle Episoden</h1>
                <div class="mb-8 max-w-lg mx-auto flex gap-2">
                    <input type="search" id="episode-search-input" placeholder="Episoden durchsuchen..." class="flex-grow bg-gray-900/50 border border-gray-600 rounded-lg py-3 px-5 focus:ring-2 focus:ring-brand-accent-500 focus:outline-none text-lg">
                    <button id="episode-search-button" class="bg-brand-accent-500 text-white font-bold py-3 px-6 rounded-lg text-lg hover:bg-brand-accent-600 transition-colors shrink-0">Suchen</button>
                </div>
                <div id="category-tabs" class="mb-12 flex flex-wrap justify-center gap-2"></div>
                <div id="episode-update-info" class="hidden"></div>
                <div id="all-episodes-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                    <!-- Episoden werden hier dynamisch via JavaScript geladen -->
                </div>
            </section>
        </div>
    </main>

    <!-- Modals etc. ... -->
    <!-- ... (rest of the file remains the same until the script tag) ... -->

    <div id="contact-modal" class="modal hidden fixed inset-0 bg-black/60 backdrop-blur-sm z-50 items-center justify-center p-4">
        <div class="max-h-[75vh] overflow-y-auto">
            <div class="bg-gray-800 rounded-xl shadow-2xl p-8 max-w-2xl w-full relative border border-gray-700">
                <button id="close-contact-modal" class="absolute top-4 right-4 text-brand-accent-400 hover:text-brand-accent-500 transition-colors z-10">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" /></svg>
                </button>
                <h2 class="text-3xl font-bold font-heading text-center mb-8">Kontakt</h2>
                <form name="contact" method="POST" data-netlify="true" action="/success.html" class="space-y-6">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div>
                            <label for="firstname" class="block text-sm font-medium text-brand-accent-400 mb-2">Vorname (optional)</label>
                            <input type="text" name="firstname" id="firstname" class="w-full bg-gray-900/50 border border-gray-600 rounded-lg py-2 px-4 focus:ring-2 focus:ring-brand-accent-500 focus:outline-none">
                        </div>
                        <div>
                            <label for="lastname" class="block text-sm font-medium text-brand-accent-400 mb-2">Name (optional)</label>
                            <input type="text" name="lastname" id="lastname" class="w-full bg-gray-900/50 border border-gray-600 rounded-lg py-2 px-4 focus:ring-2 focus:ring-brand-accent-500 focus:outline-none">
                        </div>
                    </div>
                    <div>
                        <label for="email" class="block text-sm font-medium text-brand-accent-400 mb-2">E-Mail-Adresse</label>
                        <input type="email" name="email" id="email" required class="w-full bg-gray-900/50 border border-gray-600 rounded-lg py-2 px-4 focus:ring-2 focus:ring-brand-accent-500 focus:outline-none">
                    </div>
                    <div>
                        <label for="message" class="block text-sm font-medium text-brand-accent-400 mb-2">Nachricht</label>
                        <textarea name="message" id="message" rows="4" required class="w-full bg-gray-900/50 border border-gray-600 rounded-lg py-2 px-4 focus:ring-2 focus:ring-brand-accent-500 focus:outline-none"></textarea>
                    </div>
                    <div>
                        <button type="submit" class="w-full bg-brand-accent-500 text-white font-bold py-3 px-8 rounded-lg text-lg hover:bg-brand-accent-600 transition-transform hover:scale-105 transform">Nachricht senden</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <div id="workflow-modal" class="modal hidden fixed inset-0 bg-black/60 backdrop-blur-sm z-50 items-center justify-center p-4">
        <div class="max-h-[90vh] overflow-y-auto">
            <div class="bg-gray-800 rounded-xl shadow-2xl p-8 max-w-7xl w-full relative border border-gray-700">
                <button id="close-workflow-modal" class="absolute top-4 right-4 text-brand-accent-400 hover:text-brand-accent-500 transition-colors z-10">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" /></svg>
                </button>
                <h2 class="text-4xl font-bold font-heading text-center mb-4 text-white">Der Podcast Autopilot</h2>
                <p class="text-center text-lg text-gray-400 mb-12 max-w-3xl mx-auto">Ein transparenter Einblick, wie jede Episode entsteht – eine Zusammenarbeit von Mensch und Maschine.</p>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-start">
                    <div class="space-y-6">
                        <div class="flex items-center gap-4">
                            <div class="bg-indigo-500/20 p-3 rounded-full"><svg class="w-8 h-8 text-indigo-400" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M17.982 18.725A7.488 7.488 0 0012 15.75a7.488 7.488 0 00-5.982 2.975m11.963 0a9 9 0 10-11.963 0m11.963 0A8.966 8.966 0 0112 21a8.966 8.966 0 01-5.982-2.275M15 9.75a3 3 0 11-6 0 3 3 0 016 0z" /></svg></div>
                            <h3 class="text-3xl font-heading font-bold text-indigo-400">Manuelle Schritte</h3>
                        </div>
                        <div class="bg-gray-900/50 p-6 rounded-lg border border-gray-700 space-y-4">
                            <h4 class="text-xl font-bold text-white">1. Prozess Starten</h4>
                            <p class="text-gray-400">Ich stoße den gesamten Prozess mit einem Klick an. Das System kann dann entweder vollautomatisch neue Themen finden oder ein von mir bereitgestelltes Dokument verarbeiten.</p>
                        </div>
                        <div class="flex justify-center py-4"><svg class="w-8 h-8 text-gray-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M19.5 13.5L12 21m0 0l-7.5-7.5M12 21V3" /></svg></div>
                        <div class="bg-gray-900/50 p-6 rounded-lg border border-gray-700 space-y-4">
                            <h4 class="text-xl font-bold text-white">3. Finale Kontrolle & Freigabe</h4>
                            <p class="text-gray-400">Am Ende des gesamten Prozesses prüfe ich persönlich alle generierten Inhalte (Skripte, Wörterbuch). Ich wähle die beste der automatisch erstellten Audio-Versionen aus, gebe der Episode den finalen Schliff und plane die Veröffentlichung.</p>
                        </div>
                    </div>
                    <div class="space-y-6">
                        <div class="flex items-center gap-4">
                            <div class="bg-cyan-500/20 p-3 rounded-full"><svg class="w-8 h-8 text-cyan-400" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M11.42 15.17L17.25 21A2.652 2.652 0 0021 17.25l-5.877-5.877M11.42 15.17l2.471-2.471a.563.563 0 01.8 0l2.121 2.121a.563.563 0 010 .8l-2.471 2.471M11.42 15.17l-2.47-2.47a.563.563 0 00-.8 0l-2.122 2.121a.563.563 0 000 .8l2.47 2.47M12 13.5v-7.5m0 0l3 3m-3-3l-3 3" /></svg></div>
                            <h3 class="text-3xl font-heading font-bold text-cyan-400">Automatisierte Prozesse</h3>
                        </div>
                        <div class="bg-gray-900/50 p-6 rounded-lg border border-gray-700 space-y-4">
                            <h4 class="text-xl font-bold text-white">2. Die Content-Pipeline</h4>
                            <p class="text-gray-400">Nach dem Startsignal arbeitet die KI die folgenden Schritte selbstständig ab:</p>
                            <ol class="list-decimal list-inside space-y-3 text-gray-400 pl-2">
                                <li><strong>Themen-Analyse:</strong> Das System analysiert alle bisherigen Episoden und generiert selbstständig neue, passende Themenvorschläge.</li>
                                <li><strong>Tiefenrecherche:</strong> Das System führt eine umfassende Recherche zum ausgewählten Thema durch oder extrahiert die Inhalte aus dem bereitgestellten Dokument.</li>
                                <li><strong>Skript-Erstellung:</strong> Aus der Recherche wird ein erstes Podcast-Skript im Dialogformat generiert.</li>
                                <li><strong>Qualitätssicherung:</strong> Eine zweite, unabhängige KI-Prüfung korrigiert das Skript auf Logik, Stil und Fakten.</li>
                                <li><strong>Sprach-Optimierung:</strong> Das Skript wird für eine natürliche Aussprache durch die Text-to-Speech-Engine optimiert.</li>
                                <li><strong>Wörterbuch-Erstellung:</strong> Das System extrahiert Fachbegriffe und erstellt eine phonetische Übersetzung für die korrekte Aussprache.</li>
                                <li><strong>Audio-Generierung (Optional):</strong> Aus dem finalen Skript werden automatisch mehrere verschiedene Stimm-Versionen als Audio-Dateien erzeugt.</li>
                            </ol>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Platform Choice Modal -->
    <div id="platform-modal" class="modal hidden fixed inset-0 bg-black/60 backdrop-blur-sm z-50 p-4">
        <div class="bg-gray-800 rounded-xl shadow-2xl p-8 max-w-sm w-full relative border border-gray-700">
            <button id="close-platform-modal" class="absolute top-4 right-4 text-brand-accent-400 hover:text-brand-accent-500 transition-colors z-10">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" /></svg>
            </button>
            <h3 class="text-2xl font-bold font-heading text-center mb-6 text-white">Hören auf...</h3>
            <div id="platform-links" class="space-y-4">
                <!-- Links will be injected here by JS -->
            </div>
        </div>
    </div>

    <!-- Centralized Episode Loader -->
    <script src="assets/js/episode-loader.js"></script>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            let allEpisodes = [];
            const allEpisodesGrid = document.getElementById('all-episodes-grid');
            if (!allEpisodesGrid) return; // Guard clause
            const searchInput = document.getElementById('episode-search-input');
            const categoryTabsContainer = document.getElementById('category-tabs');
            const searchButton = document.getElementById('episode-search-button');
            const mobileMenuButton = document.getElementById('mobile-menu-button');
            const mobileMenu = document.getElementById('mobile-menu');
            
            const workflowModal = document.getElementById('workflow-modal');
            const openWorkflowModalButtons = document.querySelectorAll('.open-workflow-modal');
            const closeWorkflowModalButton = document.getElementById('close-workflow-modal');
            const contactModal = document.getElementById('contact-modal');
            const openContactModalButtons = document.querySelectorAll('.open-contact-modal');
            const closeContactModalButton = document.getElementById('close-contact-modal');
            
            const platformModal = document.getElementById('platform-modal');
            const closePlatformModalButton = document.getElementById('close-platform-modal');
            const platformLinksContainer = document.getElementById('platform-links');

            function setupCategoryFilter(episodes) {
                if (!categoryTabsContainer || !episodes || episodes.length === 0) return;

                const categories = new Set();
                episodes.forEach(episode => {
                    const category = episode.title.split(' ')[0].toLowerCase();
                    categories.add(category);
                });

                const sortedCategories = Array.from(categories).sort();
                
                let html = `<button data-category="all" class="category-tab active bg-brand-accent-500 text-white font-semibold py-2 px-4 rounded-full transition-colors">Alle anzeigen</button>`;
                sortedCategories.forEach(category => {
                    html += `<button data-category="${category}" class="category-tab bg-transparent border border-brand-accent-500 text-brand-accent-400 font-semibold py-2 px-4 rounded-full transition-colors hover:bg-brand-accent-500 hover:text-white">${category}</button>`;
                });
                categoryTabsContainer.innerHTML = html;

                categoryTabsContainer.addEventListener('click', (e) => {
                    if (e.target.matches('.category-tab')) {
                        const selectedCategory = e.target.dataset.category;

                        categoryTabsContainer.querySelectorAll('.category-tab').forEach(btn => {
                            btn.classList.remove('active', 'bg-brand-accent-500', 'text-white');
                            btn.classList.add('bg-transparent', 'border', 'border-brand-accent-500', 'text-brand-accent-400');
                        });
                        e.target.classList.add('active', 'bg-brand-accent-500', 'text-white');
                        e.target.classList.remove('bg-transparent', 'border', 'border-brand-accent-500', 'text-brand-accent-400');
                        
                        if (searchInput) searchInput.value = '';

                        const filteredEpisodes = selectedCategory === 'all' 
                            ? allEpisodes 
                            : allEpisodes.filter(ep => ep.title.split(' ')[0].toLowerCase() === selectedCategory);
                        
                        renderEpisodes(allEpisodesGrid, filteredEpisodes);
                        allEpisodesGrid.querySelectorAll('.episode-card').forEach(card => {
                            card.style.display = 'flex'; // Ensure they are visible
                        });
                    }
                });
            }

            function performSearch() {
                const searchTerm = searchInput.value.toLowerCase().trim();

                if (categoryTabsContainer) {
                    categoryTabsContainer.querySelectorAll('.category-tab').forEach(btn => {
                        btn.classList.remove('active', 'bg-brand-accent-500', 'text-white');
                        btn.classList.add('bg-transparent', 'border', 'border-brand-accent-500', 'text-brand-accent-400');
                    });
                    const allBtn = categoryTabsContainer.querySelector('[data-category="all"]');
                    if(allBtn) allBtn.classList.add('active', 'bg-brand-accent-500', 'text-white');
                }

                const filteredEpisodes = allEpisodes.filter(ep => {
                    const title = ep.title.toLowerCase();
                    const description = (ep.description || '').toLowerCase();
                    return title.includes(searchTerm) || description.includes(searchTerm);
                });

                renderEpisodes(allEpisodesGrid, filteredEpisodes);
            }

            function setupEventListeners() {
                if (searchInput) {
                    searchButton.addEventListener('click', (e) => { e.preventDefault(); performSearch(); });
                    searchInput.addEventListener('keyup', (e) => { 
                        if (e.key === 'Enter') { 
                            e.preventDefault(); 
                        }
                        performSearch(); 
                    });
                }
                if(mobileMenuButton) mobileMenuButton.addEventListener('click', () => mobileMenu.classList.toggle('hidden'));
                
                if (workflowModal && openWorkflowModalButtons.length && closeWorkflowModalButton) {
                    openWorkflowModalButtons.forEach(btn => {
                        btn.addEventListener('click', (e) => {
                            e.preventDefault();
                            document.body.classList.add('modal-open');
                            workflowModal.classList.remove('hidden');
                            if(mobileMenu) mobileMenu.classList.add('hidden');
                        });
                    });
                    closeWorkflowModalButton.addEventListener('click', () => {
                        workflowModal.classList.add('hidden');
                        document.body.classList.remove('modal-open');
                    });
                    workflowModal.addEventListener('click', (e) => {
                        if (e.target === workflowModal) {
                            workflowModal.classList.add('hidden');
                            document.body.classList.remove('modal-open');
                        }
                    });
                }

                if (contactModal && openContactModalButtons.length && closeContactModalButton) {
                    openContactModalButtons.forEach(btn => {
                        btn.addEventListener('click', (e) => {
                            e.preventDefault();
                            document.body.classList.add('modal-open');
                            contactModal.classList.remove('hidden');
                            if(mobileMenu) mobileMenu.classList.add('hidden');
                        });
                    });
                    closeContactModalButton.addEventListener('click', () => {
                        contactModal.classList.add('hidden');
                        document.body.classList.remove('modal-open');
                    });
                    contactModal.addEventListener('click', (e) => {
                        if (e.target === contactModal) {
                            const isFormEmpty = Array.from(contactFormInputs).every(input => input.value === '');
                            if (isFormEmpty) {
                                contactModal.classList.add('hidden');
                                document.body.classList.remove('modal-open');
                            }
                        }
                    });
                }
                
                // Platform Modal Logic
                if (platformModal && allEpisodesGrid) {
                    allEpisodesGrid.addEventListener('click', function(e) {
                        const listenButton = e.target.closest('.listen-button');
                        if (listenButton) {
                            e.preventDefault();
                            const spotifyUrl = listenButton.dataset.spotifyUrl;
                            const appleUrl = listenButton.dataset.appleUrl;
                            const youtubeUrl = listenButton.dataset.youtubeUrl;

                            platformLinksContainer.innerHTML = ''; // Clear previous links

                            if (spotifyUrl) {
                                platformLinksContainer.innerHTML += `<a href="${spotifyUrl}" target="_blank" rel="noopener noreferrer" class="w-full bg-green-600 text-white font-bold py-3 px-4 rounded-lg text-center hover:bg-green-700 transition-transform hover:scale-105 transform block no-underline" aria-label="Auf Spotify anhören">Spotify</a>`;
                            }
                            if (appleUrl) {
                                platformLinksContainer.innerHTML += `<a href="${appleUrl}" target="_blank" rel="noopener noreferrer" class="w-full bg-purple-600 text-white font-bold py-3 px-4 rounded-lg text-center hover:bg-purple-700 transition-transform hover:scale-105 transform block no-underline" aria-label="Auf Apple Podcasts anhören">Apple Podcasts</a>`;
                            }
                            if (youtubeUrl) {
                                platformLinksContainer.innerHTML += `<a href="${youtubeUrl}" target="_blank" rel="noopener noreferrer" class="w-full bg-red-600 text-white font-bold py-3 px-4 rounded-lg text-center hover:bg-red-700 transition-transform hover:scale-105 transform block no-underline" aria-label="Auf YouTube ansehen">YouTube</a>`;
                            }
                            
                            platformModal.classList.remove('hidden');
                            platformModal.classList.add('flex');
                            document.body.classList.add('modal-open');
                        }
                    });

                    closePlatformModalButton.addEventListener('click', () => {
                        platformModal.classList.add('hidden');
                        platformModal.classList.remove('flex');
                        document.body.classList.remove('modal-open');
                    });

                    platformModal.addEventListener('click', (e) => {
                        if (e.target === platformModal) {
                            platformModal.classList.add('hidden');
                            platformModal.classList.remove('flex');
                            document.body.classList.remove('modal-open');
                        }
                    });
                }
            }

            // --- Main Initialization ---
            async function initPage() {
                if (!allEpisodesGrid) return;
                allEpisodesGrid.innerHTML = createLoadingSpinnerHTML();
                allEpisodes = await fetchAndCacheEpisodes() || [];
                renderEpisodes(allEpisodesGrid, allEpisodes);
                setupCategoryFilter(allEpisodes);
            }

            initPage();
            setupEventListeners();
        });
    </script>
    <footer class="bg-brand-dark/80 border-t border-gray-700/50 mt-24">
        <div class="container mx-auto px-6 py-8 text-center text-gray-400">
            <div class="flex justify-center space-x-6 mb-4">
                <a href="impressum.html" class="hover:text-brand-accent-400 transition-colors">Impressum</a>
                <a href="datenschutz.html" class="hover:text-brand-accent-400 transition-colors">Datenschutzerklärung</a>
            </div>
            <p>&copy; 2025 Wissens-Akku. Alle Rechte vorbehalten.</p>
        </div>
    </footer>
</body>
</html>